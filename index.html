<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>My JavaScripting English Major Project</title>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<link rel="stylesheet" href="styles.css">
<link href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap" rel="stylesheet">
<meta name='viewport' content='initial-scale=1,maximum-scale=1' />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.js"></script>
<script src='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.js'></script>
<link href='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.css' rel='stylesheet' />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
</head>
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-zoomslider/v0.7.0/L.Control.Zoomslider.js'></script>
<link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-zoomslider/v0.7.0/L.Control.Zoomslider.css' rel='stylesheet' />
<style>

body, html {
  margin:0;
  padding:0;
  height: 100%;
}

<!--CSS FOR MAP -->

#map-container {
            height: 70%;
            padding-bottom: 0px;
            margin: 0px;
}

#map {
        display: block;
        height: 60%;
        width: 50%;
        margin-left: auto;
        margin-right: auto;
}

.popup {
  text-align:center;
}

.popup .slideshow .image{
  display:none;
}

.popup .slideshow .image.active {
  display:block;
}

.popup .slideshow img {
  width:100%;
}

.popup .slideshow .caption {
  background:#eee;
  padding:10px;
}

.popup .cycle {
  padding:10px 0 20px;
}

.popup .cycle a.prev { float:left;
}

.popup .cycle a.next { float:right;
}

/* Adjustments to account for mapbox.css box-sizing rules */
.leaflet-control-zoomslider-knob { width:14px; height:6px; }
.leaflet-container .leaflet-control-zoomslider-body {
  -webkit-box-sizing:content-box;
     -moz-box-sizing:content-box;
          box-sizing:content-box;
  }

<!--End CSS for Map -->

</style>
</head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="index.html">Home</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
    <div class="navbar-nav">
      <a class="nav-item nav-link" href="leaflet.html">Leaflet Page</a>
      <a class="nav-item nav-link" href="minimap.html">Custom Map</a>
    </div>
  </div>
</nav>
      <div id ="title"><h1>This is my project!</h1></div>
      <br><div id="response">This is the #response div. It corresponds to my
      scripts.js file. If I initialize my scripts.js file, this repsonse will change.</div></br>

      <div id='map'></div>
      <div id="map-container">

      <div id='map'></div>
      </div>


      <!-- API ACCESS FOR THE MAP -->
      <script src='https://code.jquery.com/jquery-1.11.0.min.js'></script>
      <script>
      L.mapbox.accessToken = 'pk.eyJ1IjoibWFwcGxlZ2EiLCJhIjoiY2lqbzk3aGVlMDB0bHRvbTVvNXB1azZxdyJ9.PpTLv2su5er4AqXhF-LK4A';
      var map = L.mapbox.map('map', 'mapbox.streets', {
        container: 'map',
      });

      var myLayer = L.mapbox.featureLayer().addTo(map);

      var geoJson = [{
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [12.476332, 41.896783]},
          "properties": {
              'title': 'Vini & Cucina Blasi',
              'marker-color': '#E48F0D',
              'marker-symbol': 'circle',
              'marker-size': 'medium',

              // Store the image url and caption in an array.
              'images': [
                ['http://molloynewmedia.org/images/natalie/vinicucinoblasi.jpg','This is Vini & Cucina Blasi! The spritz we had was to die for!'],
                ['http://molloynewmedia.org/images/natalie/spritz.jpg', 'The spritz in question: This was an orange flavored aperol sprtiz and it was strrroooonnng!'],
                ['http://molloynewmedia.org/images/natalie/cacioepepe.jpg', 'I had ordered the cacio e pepe, which translates to cheese and pepper, and it wasa very delicious! It was the first time I have had this dish and it was one of my favorites on the trip!'],
                ['http://molloynewmedia.org/images/natalie/sharespritz.jpg', 'After some drinks, my friends Heather and Emily thought it would be funny and cute to share the rest of my spritz; and the looks the waiters and the other patrons gave us was funny and well worth it for the picture.'],                
              ]
          }
      }, {
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [12.4750259, 41.8931237]},
          "properties": {
              'title': 'BaGhetto Milky',
              'marker-color': '#F2DD07',
              'marker-symbol': 'triangle',
              'marker-size': 'large',
              'images': [
                ['http://molloynewmedia.org/images/natalie/bghettomilky.jpg','This was a Kosher Italian restaruant with amazing pizza, and a great atmosphere!'],
              ]
          }
      }, {
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [12.4745354, 41.8966557]},
          "properties": {
              'title': 'Buddy Roma Veggie Restaurante',
              'marker-color': '#70C03C',
              'marker-symbol': 'square',
              'marker-size': 'medium',
              'images': [
                ['https://www.molloynewmedia.org/images/natalie/buddyroma.jpg','An amazing, affordable, vegan and vegetarian restuarant! There was even plant based milk options!'],
                ['https://www.molloynewmedia.org/images/natalie/buddyout.jpg', 'Before even going into the restaurant, the outside was very cute and aesthetically pleasing with many plants and nature colors throughout. The inside made us feel like we were in Los Angeles or something!']
                ['https://www.molloynewmedia.org/images/natalie/veganburger.jpg', 'I ordered a burger, it was beyond meat duh, and it came with a side of home fries and a beet bun. I was essentially eating a pretty patty from Spongebob Squarepants!'],
              ]
          }
      }, {
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [11.3, 43.8]},
          "properties": {
              'title': 'il Bottegone',
              'marker-color': '#239AE9',
              'marker-symbol': 'circle',
              'marker-size': 'large',
              'images': [
                ['http://molloymediaarchaeology.org/images/dublintown.jpg','Students spent Sunday, May 29 in Dublin, Ireland.'],
                ['http://molloymediaarchaeology.org/images/jervis.jpg','<iframe width="280" height="195" src="https://www.youtube.com/embed/O31ciXE9tns" frameborder="0" allowfullscreen></iframe>','Students documented what they saw and experienced.']
              ]
          }
      }, {
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [-6.42425, 53.72220]},
          "properties": {
              'title': 'Pasta e Vino',
              'marker-color': '#F9FF00',
              'marker-symbol': 'fork',
              'marker-size': 'medium',
              'images': [
                ['http://molloymediaarchaeology.org/images/adriana_memory2.jpg','The Memory Sculpture is another piece kept within the Walled Gardens.'],
                ['http://molloymediaarchaeology.org/images/grant_pole2.jpg','The sculpture is a remnant of another tree present at the Battle of the Boyne.'],
                ['http://molloymediaarchaeology.org/images/grant_pole4.jpg','The wooden monument is intended to serve as a reminder to visitors that history never goes away -- it is forever present and forever a part of the people it touches.']
              ]
          }
      }];

      // Add custom popup html to each marker.
      myLayer.on('layeradd', function(e) {
          var marker = e.layer;
          var feature = marker.feature;
          var images = feature.properties.images
          var slideshowContent = '';

          for(var i = 0; i < images.length; i++) {
              var img = images[i];

              slideshowContent += '<div class="image' + (i === 0 ? ' active' : '') + '">' +
                                    '<img src="' + img[0] + '" />' +
                                    '<div class="caption">' + img[1] + '</div>' +
                                  '</div>';
          }

          // Create custom popup content
          var popupContent =  '<div id="' + feature.properties.id + '" class="popup">' +
                                  '<h2>' + feature.properties.title + '</h2>' +
                                  '<div class="slideshow">' +
                                      slideshowContent +
                                  '</div>' +
                                  '<div class="cycle">' +
                                      '<a href="#" class="prev">&laquo; Previous</a>' +
                                      '<a href="#" class="next">Next &raquo;</a>' +
                                  '</div>'
                              '</div>';

          // http://leafletjs.com/reference.html#popup
          marker.bindPopup(popupContent,{
              closeButton: false,
              minWidth: 320
          });
      });

      // Add features to the map
      myLayer.setGeoJSON(geoJson);

      $('#map').on('click', '.popup .cycle a', function() {
          var $slideshow = $('.slideshow'),
              $newSlide;

          if ($(this).hasClass('prev')) {
              $newSlide = $slideshow.find('.active').prev();
              if ($newSlide.index() < 0) {
                  $newSlide = $('.image').last();
              }
          } else {
              $newSlide = $slideshow.find('.active').next();
              if ($newSlide.index() < 0) {
                  $newSlide = $('.image').first();
              }
          }

          $slideshow.find('.active').removeClass('active').hide();
          $newSlide.addClass('active').show();
          return false;
      });

      <!-- SET THE MAP VIEW HERE -->
      map.setView([41.9, 15.3], 11);
      </script>
      <br><p>This is the first paragraph of my webpage, despite the div above.
      Keep writing in this section. This is the first paragraph of my webpage, despite the div above. Keep writing in this section.</p></br>
    </div>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
<script src="scripts.js"></script>
</body>
</html>
